<!DOCTYPE html>
<html>

<head>
  <!-- Meta tags -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  
  <!-- Title -->
  <title>Deteksi Kandungan Gula</title>

  <!-- CSS Stylesheets -->
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
  <link rel="stylesheet" type="text/css" href="../static/css/bootstrap.css" />
  <link rel="stylesheet" type="text/css" href="../static/css/font-awesome.min.css" />
  <link href="../static/css/style.css" rel="stylesheet" />
  <link href="../static/css/responsive.css" rel="stylesheet" />

  <style>
    /* Custom CSS styles */
    header.feature-box.top {
      background-color: black;
      height: 100px;
      margin: 0px;
      padding: 20px;
      text-align: center;
    }

    header.feature-box.second {
      background-color: blue;
      height: 50px;
      text-align: center;
      margin-top: -25px;
    }

    section.col-sm {
      background-color: gray;
      width: 1000px;
      height: 650px;
      border-radius: 35px;
      object-fit: contain;
      margin: 40px;
    }

    .text-box {
      border: 5px solid #00d724;
      border-radius: 35px;
      padding: 20px;
      background-color: #f9f9f9;
      width: 500px;
      height: 650px;
      margin: 40px;
    }

    .text-box h2 {
      margin-top: 0;
      font-size: 24px;
    }

    .text-box p {
      font-size: 16px;
      line-height: 1.5;
    }

    body {
      background-image: url('../static/images/umbi-.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }
    h1 {
    font-family: 'Arial', sans-serif;
    font-size: 2.5em;
    color: #333333;
    text-align: center;
    margin-top: 20px;
    margin-bottom: 10px;
}

h4 {
    font-family: 'Arial', sans-serif;
    font-size: 1.2em;
    color: #666666;
    text-align: left;
    margin-top: 15px;
    margin-bottom: 5px;
}
  </style>
</head>

<body>
  <!-- Header section -->
  <header class="header_section">
    <div class="header_top">
      <div class="container-fluid">
        <div class="contact_nav">
          <a href="">
            <i class="fa fa-phone" aria-hidden="true"></i>
            <span>
              Call : +01 123455678990
            </span>
          </a>
          <a href="">
            <i class="fa fa-envelope" aria-hidden="true"></i>
            <span>
              Email : demo@gmail.com
            </span>
          </a>
        </div>
      </div>
    </div>
    <div class="header_bottom">
      <div class="container-fluid">
        <nav class="navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="index.html">
            <span>
              YOLOv8
            </span>
          </a>

          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class=""> </span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ">
              <li class="nav-item ">
                <a class="nav-link" href="\home">Home <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item active">
                <a class="nav-link" href="\webcam"> About</a>
              </li>
            </ul>
          </div>
        </nav>
      </div>
    </div>
  </header>
  <!-- End Header section -->

  <!-- About section -->
  <section class="about_section layout_padding">
    <div class="container">
      <div class="row">
        <div class="col-lg-5 col-md-6">
          <div class="detail-box">
            <h2>About us</h2>
            <p>
              There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration
              in some form, by injected humour, or randomisedThere are many variations of passages of Lorem Ipsum
              available, but the majority have suffered alteration in some form, by injected humour, or randomised
            </p>
            <a href="#">Read More</a>
          </div>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-lg-7 col-md-6">
          <section class="col-sm">
            <!-- Image or video display -->
            <img src="{{ url_for('webapp') }}" alt="Upload video">
          </section>
        </div>
        <div class="col-lg-5 col-md-6">
          <section>
            <!-- Text box for detection information -->
            <div class="text-box">
              <h4>Nama Umbi :</h4>
                <p id="class-name">Tidak ada deteksi</p>
              <h4>Kandungan Umbi :</h4>
                <p id="nutrition-info">Tidak ada deteksi</p>
            </div>
          </section>
        </div>
      </div>
    </div>
  </section>
  <!-- End About section -->

  <!-- Info section -->
  <section class="info_section ">
    <div class="container">
      <h4>Get In Touch</h4>
      <div class="row">
        <div class="col-lg-10 mx-auto">
          <div class="info_items">
            <div class="row">
              <div class="col-md-4">
                <a href="#">
                  <div class="item">
                    <div class="img-box">
                      <i class="fa fa-map-marker" aria-hidden="true"></i>
                    </div>
                    <p>Lorem Ipsum is simply dummy text</p>
                  </div>
                </a>
              </div>
              <div class="col-md-4">
                <a href="#">
                  <div class="item">
                    <div class="img-box">
                      <i class="fa fa-phone" aria-hidden="true"></i>
                    </div>
                    <p>+02 1234567890</p>
                  </div>
                </a>
              </div>
              <div class="col-md-4">
                <a href="#">
                  <div class="item">
                    <div class="img-box">
                      <i class="fa fa-envelope" aria-hidden="true"></i>
                    </div>
                    <p>demo@gmail.com</p>
                  </div>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="social-box">
      <h4>Follow Us</h4>
      <div class="box">
        <a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a>
        <a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a>
        <a href="#"><i class="fa fa-youtube" aria-hidden="true"></i></a>
        <a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a>
      </div>
    </div>
  </section>
  <!-- End Info section -->

  <!-- Footer section -->
  <footer class="footer_section">
    <div class="container">
      <p>&copy; <span id="displayDateYear"></span> All Rights Reserved By</p>
    </div>
  </footer>
  <!-- End Footer section -->

  <!-- JavaScript files -->
  <script src="../static/js/jquery-3.4.1.min.js"></script>
  <script src="../static/js/bootstrap.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>

  <script>
    function fetchNutritionInfo() {
        $.ajax({
            url: "/nutrition_info",
            type: "GET",
            success: function(data) {
                if (Object.keys(data).length > 0) {
                    var classNameText = "";
                    var nutritionText = "";
                    for (var key in data) {
                        if (data.hasOwnProperty(key)) {
                            classNameText += key + "<br>";
                            nutritionText += "<strong>" + key + ":</strong><br>";
                            nutritionText += "Karbohidrat: " + data[key]["Karbohidrat"] + "<br>";
                            nutritionText += "Gula: " + data[key]["Gula"] + "<br>";
                            nutritionText += "Rekomendasi: " + data[key]["Rekomendasi"] + "<br><br>";
                        }
                    }
                    $("#class-name").html(classNameText);
                    $("#nutrition-info").html(nutritionText);
                } else {
                    $("#class-name").html("Tidak ada deteksi");
                    $("#nutrition-info").html("Tidak ada deteksi");
                }
            },
            error: function() {
                $("#class-name").html("Tidak ada deteksi");
                $("#nutrition-info").html("Tidak ada deteksi");
            }
        });
    }
    
    $(document).ready(function() {
        setInterval(fetchNutritionInfo, 1000); // Fetch nutrition info every second
    });
</script>
</body>

</html>
